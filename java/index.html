<!DOCTYPE html>  
<html>
<head>
<meta charset="utf-8">
<title>j2me在线模拟器</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1"> 
</head>  
<body>
    <div style="display:flex">
         
		 <script type="text/javascript">

			var config = function() {
				var myInfo = {
					canvasSize: 4, 
					gamepadSize: 0,
					gameresize:0
				};
				if (window.localStorage["my"] === undefined) {
					window.localStorage["my"] = JSON.stringify(myInfo);
				} else { 
					var data = JSON.parse(window.localStorage["my"]);
					for (var key in data) {
						myInfo[key] = data[key];
					}
				}
				return {
					//按key从对象中取值
					getValueByKey(key) {
						return myInfo[key]
					},
					//将键值对保存到对象中
					setValueByKey() {
						for (var i = 0; i < arguments.length; i += 2) {
							myInfo[arguments[i]] = arguments[i + 1];
						}
						//将新的数据序列化到本地保存
						window.localStorage["my"] = JSON.stringify(myInfo);
					}
				}
			}

			var config01 = new config();
			window.onload=function () { 
				var csize=config01.getValueByKey("canvasSize");
				var gsize=config01.getValueByKey("gamepadSize");
				var gresize=config01.getValueByKey("gameresize");
				var gamepadSize=document.getElementById('gamepadSize'); 
				var canvasSize=document.getElementById('canvasSize'); 
				var gameresize=document.getElementById('gameresize');  

				canvasSize.selectedIndex=csize;
				gamepadSize.selectedIndex=gsize;
				gameresize.selectedIndex = gresize;
				
        	}
			
			function openJar(jarname,midletClassName)
			{
				//var mycheck1=document.getElementById('mycheck1'); 
				//var mycheck2=document.getElementById('mycheck2'); 
				var href='index2.html?jars=jar/'+jarname+'&jad=&midletClassName='+midletClassName;
				//if(mycheck1.checked)
				//{
				//	href+="&gamepad=1";
				//}
				/*
				if(mycheck2.checked)
				{
					href+="&enablexy=1";
				}
				*/
				var gamepadSize=document.getElementById('gamepadSize'); 
				var mvalue=gamepadSize.options[gamepadSize.selectedIndex].value;
				if(mvalue)
				{
					href+="&gamepadSize="+mvalue;
					if(gamepadSize.selectedIndex==0)
					{
						href+="&gamepad=0";
					}
					else{
						href+="&gamepad=1";
					}
				}

				var canvasSize=document.getElementById('canvasSize'); 
				var mvalue=canvasSize.options[canvasSize.selectedIndex].value;
				if(mvalue)
				{
					href+="&canvasSize="+mvalue;
				}
				var gameresize=document.getElementById('gameresize');  
				var gameresizevalue=gameresize.options[gameresize.selectedIndex].value;
				if(gameresizevalue)
				{ 
					href+="&gameresize="+gameresizevalue; 
				}

				config01.setValueByKey("canvasSize",canvasSize.selectedIndex);
				config01.setValueByKey("gamepadSize",gamepadSize.selectedIndex);
				config01.setValueByKey("gameresize",gameresize.selectedIndex);

				window.location.href = href;
			}
		 </script>
		 
		 <a style="height:100px;width:80px;text-align:center;" href="javascript:void(0)"onclick="openJar('Anyview4.0.jar','com.ismyway.anyview.Anyview');">
			<div style="height:64px;"> 
				<img src="img/anyview.png" ></img>
			</div> 
			Anyview
		 </a>
		 
		 <a style="height:100px;width:80px;text-align:center;" href="javascript:void(0)"onclick="openJar('ckxt3.jar','GloftASBR');">
			<div style="height:64px;"> 
				<img src="img/ckxt3.png" style="margin-top:0px"></img>
			</div>
			刺客信条3
		 </a> 
		 
		 <a style="height:100px;width:80px;text-align:center;" href="javascript:void(0)"onclick="openJar('kxnc.jar','FarmMIDlet');">
			<div style="height:64px;"> 
				<img src="img/kxnc.png" style="margin-top:4px"></img>
			</div>
			  开心农场
		 </a> 
		 
    </div>
	<!-- <label><input id="mycheck1" name="enablekey" type="checkbox"  checked value="" />启用按键</label> -->
	<!-- <label><input id="mycheck2" name="enablexy" type="checkbox" value="" />自适应缩放</label>  -->
   <select id="canvasSize">
	  <option value="size-240x320">显示尺寸: 240x320</option>
	  <option value="size-320x240">显示尺寸: 320x240</option>
	  <option value="size-360x640" >显示尺寸: 360x640</option>
	  <option value="size-640x360">显示尺寸: 640x360</option>
	  <option value="size-no" selected>显示尺寸: 无限制</option>
	</select>
	<select id="gamepadSize">
		<option value="gamepad-0" selected>虚拟键盘-无</option>
		<option value="gamepad-1">虚拟键盘-小</option>
		<option value="gamepad-2">虚拟键盘-中</option>
		<option value="gamepad-3">虚拟键盘-大</option>
		<option value="gamepad-4">虚拟键盘-特大</option>
	  </select>

	  <select id="gameresize">
		<option value="resize-1" selected>无缩放</option>
		<option value="resize-1x5">缩放1.5倍</option>
		<option value="resize-2">缩放2倍</option>
		<option value="resize-2x5">缩放2.5倍</option>
		<option value="resize-3">缩放3倍</option>
	  </select>
	  <button>
		选择本地jar
	  </button>

</body>
</html>